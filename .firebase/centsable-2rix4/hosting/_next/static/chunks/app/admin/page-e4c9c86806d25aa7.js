(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{15247:(e,r,t)=>{"use strict";t.d(r,{rc:()=>Z,ZD:()=>_,UC:()=>V,VY:()=>Y,hJ:()=>U,ZL:()=>L,bL:()=>k,hE:()=>T,l9:()=>F});var s=t(12115),n=t(99602),l=t(15896),i=t(58504),a=t(83990),o=t(95155);s.forwardRef((e,r)=>{let{children:t,...n}=e,l=s.Children.toArray(t),i=l.find(u);if(i){let e=i.props.children,t=l.map(r=>r!==i?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,o.jsx)(c,{...n,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,t):null})}return(0,o.jsx)(c,{...n,ref:r,children:t})}).displayName="Slot";var c=s.forwardRef((e,r)=>{let{children:t,...n}=e;if(s.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t),i=function(e,r){let t={...r};for(let s in r){let n=e[s],l=r[s];/^on[A-Z]/.test(s)?n&&l?t[s]=(...e)=>{l(...e),n(...e)}:n&&(t[s]=n):"style"===s?t[s]={...n,...l}:"className"===s&&(t[s]=[n,l].filter(Boolean).join(" "))}return{...e,...t}}(n,t.props);return t.type!==s.Fragment&&(i.ref=r?(0,l.t)(r,e):e),s.cloneElement(t,i)}return s.Children.count(t)>1?s.Children.only(null):null});c.displayName="SlotClone";var d=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function u(e){return s.isValidElement(e)&&e.type===d}var p="AlertDialog",[f,h]=(0,n.A)(p,[i.Hs]),m=(0,i.Hs)(),g=e=>{let{__scopeAlertDialog:r,...t}=e,s=m(r);return(0,o.jsx)(i.bL,{...s,...t,modal:!0})};g.displayName=p;var v=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,o.jsx)(i.l9,{...n,...s,ref:r})});v.displayName="AlertDialogTrigger";var x=e=>{let{__scopeAlertDialog:r,...t}=e,s=m(r);return(0,o.jsx)(i.ZL,{...s,...t})};x.displayName="AlertDialogPortal";var j=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,o.jsx)(i.hJ,{...n,...s,ref:r})});j.displayName="AlertDialogOverlay";var y="AlertDialogContent",[b,w]=f(y),A=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,children:n,...c}=e,u=m(t),p=s.useRef(null),f=(0,l.s)(r,p),h=s.useRef(null);return(0,o.jsx)(i.G$,{contentName:y,titleName:N,docsSlug:"alert-dialog",children:(0,o.jsx)(b,{scope:t,cancelRef:h,children:(0,o.jsxs)(i.UC,{role:"alertdialog",...u,...c,ref:f,onOpenAutoFocus:(0,a.m)(c.onOpenAutoFocus,e=>{var r;e.preventDefault(),null==(r=h.current)||r.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,o.jsx)(d,{children:n}),(0,o.jsx)(S,{contentRef:p})]})})})});A.displayName=y;var N="AlertDialogTitle",R=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,o.jsx)(i.hE,{...n,...s,ref:r})});R.displayName=N;var D="AlertDialogDescription",E=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,o.jsx)(i.VY,{...n,...s,ref:r})});E.displayName=D;var C=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,n=m(t);return(0,o.jsx)(i.bm,{...n,...s,ref:r})});C.displayName="AlertDialogAction";var O="AlertDialogCancel",P=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,{cancelRef:n}=w(O,t),a=m(t),c=(0,l.s)(r,n);return(0,o.jsx)(i.bm,{...a,...s,ref:c})});P.displayName=O;var S=e=>{let{contentRef:r}=e,t="`".concat(y,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(y,"` by passing a `").concat(D,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(y,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return s.useEffect(()=>{var e;document.getElementById(null==(e=r.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(t)},[t,r]),null},k=g,F=v,L=x,U=j,V=A,Z=C,_=P,T=R,Y=E},33135:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(12115),n=t(6066),l=t(48335),i=t(95155);let a=e=>{let{children:r}=e,{isAdmin:t,authLoading:a}=(0,l.A)(),o=(0,n.useRouter)();return((0,s.useEffect)(()=>{a||t||o.push("/")},[t,a,o]),a)?(0,i.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,i.jsx)("p",{children:"Verifying permissions..."})}):t?(0,i.jsx)(i.Fragment,{children:r}):null};var o=t(22444),c=t(14195),d=t(63240),u=t(45320);let p=(0,u.createServerReference)("4011012798d2adea657214b86d0cab5ce66b7a81ca",u.callServer,void 0,u.findSourceMapURL,"resetAllUsersProgress");var f=t(82523);function h(){let{user:e}=(0,l.A)(),{toast:r}=(0,d.dj)(),[t,n]=(0,s.useState)(!1),a=async()=>{if(!e)return void r({variant:"destructive",title:"Authentication Error",description:"You must be logged in to perform this action."});n(!0);try{let t=await p({adminUserId:e.uid});if(t.success)r({title:"Success!",description:"".concat(t.usersReset," users have had their progress reset.")});else throw Error(t.message||"An unknown error occurred.")}catch(e){r({variant:"destructive",title:"Reset Failed",description:e.message})}finally{n(!1)}};return(0,i.jsxs)("div",{className:"container mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold font-headline",children:"Admin Panel"}),(0,i.jsx)("p",{className:"mt-4 text-lg text-muted-foreground",children:"Use the tools below to manage the application."}),(0,i.jsx)("div",{className:"mt-8 max-w-md space-y-4",children:(0,i.jsxs)("div",{className:"p-6 border border-destructive/50 rounded-lg bg-destructive/10",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-destructive-foreground",children:"Danger Zone"}),(0,i.jsx)("p",{className:"text-destructive-foreground/80 mt-2",children:"This action is irreversible and will reset the learning progress (XP, level, completed lessons) for all users."}),(0,i.jsxs)(c.Lt,{children:[(0,i.jsx)(c.tv,{asChild:!0,children:(0,i.jsxs)(o.$,{variant:"destructive",className:"mt-4 w-full",disabled:t,children:[t&&(0,i.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Reset All User Progress"]})}),(0,i.jsxs)(c.EO,{children:[(0,i.jsxs)(c.wd,{children:[(0,i.jsx)(c.r7,{children:"Are you absolutely sure?"}),(0,i.jsx)(c.$v,{children:"This will reset the learning progress (XP, level, etc.) for every single user. This action cannot be undone."})]}),(0,i.jsxs)(c.ck,{children:[(0,i.jsx)(c.Zr,{children:"Cancel"}),(0,i.jsx)(c.Rx,{onClick:a,className:"bg-destructive hover:bg-destructive/90",children:"Yes, reset all progress"})]})]})]})]})})]})}let m=()=>(0,i.jsx)(a,{children:(0,i.jsx)(h,{})})},65573:(e,r,t)=>{Promise.resolve().then(t.bind(t,33135))},82523:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(55847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[992,138,240,812,560,441,891,358],()=>r(65573)),_N_E=e.O()}]);