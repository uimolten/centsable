(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1373:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});var a=s(64827),n=s(95155);function r(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...s})}},6066:(e,t,s)=>{"use strict";var a=s(98790);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},13536:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(55847).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},22245:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(55847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},35926:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(55847).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},38166:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(55847).A)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},55178:(e,t,s)=>{Promise.resolve().then(s.bind(s,62201))},62201:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ex});var a=s(6066),n=s(12115),r=s(65719),i=s(43826),o=s(40125),c=s.n(o),l=s(22444),d=s(60190);let p=[{id:1,text:"Groceries",category:"Need"},{id:2,text:"Video Game",category:"Want"},{id:3,text:"Rent/Mortgage Payment",category:"Need"},{id:4,text:"Concert Tickets",category:"Want"},{id:5,text:"Utility Bill",category:"Need"},{id:6,text:"Designer Hoodie",category:"Want"},{id:7,text:"Gas for Car",category:"Need"},{id:8,text:"Boba Tea",category:"Want"},{id:9,text:"Phone Bill",category:"Need"},{id:10,text:"Netflix Subscription",category:"Want"},{id:11,text:"Prescription Medicine",category:"Need"},{id:12,text:"Eating Out at a Restaurant",category:"Want"},{id:13,text:"Car Insurance",category:"Need"},{id:14,text:"New Phone Case",category:"Want"},{id:15,text:"Public Transport Pass",category:"Need"},{id:16,text:"Impulse Buy at Checkout",category:"Want"},{id:17,text:"Childcare",category:"Need"},{id:18,text:"Movie Tickets",category:"Want"},{id:19,text:"Basic Clothing",category:"Need"},{id:20,text:"A Second Game Console",category:"Want"},{id:21,text:"Internet Bill",category:"Need"},{id:22,text:"Spotify Premium",category:"Want"},{id:23,text:"Health Insurance Premium",category:"Need"},{id:24,text:"Fancy Coffee",category:"Want"},{id:25,text:"Dental Check-up",category:"Need"},{id:26,text:"New Skateboard",category:"Want"},{id:27,text:"Work Uniform",category:"Need"},{id:28,text:"Hobby Supplies (e.g., paint, yarn)",category:"Want"},{id:29,text:"Student Loan Payment",category:"Need"},{id:30,text:"A new house plant",category:"Want"},{id:31,text:"Renter's Insurance",category:"Need"},{id:32,text:"A trip to the arcade",category:"Want"},{id:33,text:"Heating Bill",category:"Need"},{id:34,text:"Food delivery service",category:"Want"},{id:35,text:"Essential Toiletries (soap, toothpaste)",category:"Need"},{id:36,text:"A new book",category:"Want"},{id:37,text:"Tire Replacement",category:"Need"},{id:38,text:"A weekend getaway",category:"Want"},{id:39,text:"Car Registration Renewal",category:"Need"},{id:40,text:"A new piece of jewelry",category:"Want"},{id:41,text:"Required School Supplies",category:"Need"},{id:42,text:"Gym Membership",category:"Want"},{id:43,text:"Pet Food",category:"Need"},{id:44,text:"A new poster for your room",category:"Want"},{id:45,text:"Household Cleaning Supplies",category:"Need"},{id:46,text:"A new video game skin",category:"Want"},{id:47,text:"Bank Fee",category:"Need"},{id:48,text:"A new app for your phone",category:"Want"},{id:49,text:"Haircut",category:"Need"},{id:50,text:"A new hat",category:"Want"},{id:51,text:"Car Payment",category:"Need"},{id:52,text:"A round of mini-golf",category:"Want"},{id:53,text:"Doctor Visit Co-pay",category:"Need"},{id:54,text:"A new scented candle",category:"Want"},{id:55,text:"Basic T-shirts and socks",category:"Need"},{id:56,text:"A ticket to a local play",category:"Want"},{id:57,text:"Laundry Detergent",category:"Need"},{id:58,text:"A bouquet of flowers",category:"Want"},{id:59,text:"Home internet connection",category:"Need"},{id:60,text:"A new water bottle",category:"Want"},{id:61,text:"Minimum credit card payment",category:"Need"},{id:62,text:"Donation to a charity",category:"Want"}];var u=s(42179),x=s(96388),h=s(63954),m=s(55847);let y=(0,m.A)("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);var g=s(35926),f=s(80939),b=s(64827),w=s(48335),N=s(97809),j=s(74912),v=s(13577),k=s(67471),A=s(63240),S=s(46766),W=s(15535),Y=s(62401),B=s(46043),C=s(5883),q=s(65468),M=s(71737),P=s(95155);let T="America/Los_Angeles",I=e=>{var t,s,a;let n=(null!=(t=e.hours)?t:0).toString().padStart(2,"0"),r=(null!=(s=e.minutes)?s:0).toString().padStart(2,"0"),i=(null!=(a=e.seconds)?a:0).toString().padStart(2,"0");return"".concat(n,":").concat(r,":").concat(i)},H=()=>{let{userData:e}=(0,w.A)(),[t,s]=(0,n.useState)(""),[a,r]=(0,n.useState)(S.s);return((0,n.useEffect)(()=>{var t;if(!e)return;let a=(null!=(t=e.dailyRewardClaims)?t:[]).map(e=>e.toDate()),n=(0,W.L_)(new Date,T),i=(0,Y.o)(n);i.setHours(5),(0,B.Y)(n,i)&&(i=(0,C.e)(i,1));let o=a.filter(e=>(0,B.Y)(i,(0,W.L_)(e,T)));if(r(S.s-o.length),o.length>=S.s){let e=(0,Y.o)(n);e.setHours(5),((0,B.Y)(e,n)||n.getTime()===e.getTime())&&(e=(0,q.f)(e,1));let t=()=>{let t=(0,W.L_)(new Date,T);(0,B.Y)(t,e)?s(I((0,M.F)({start:t,end:e}))):(s(""),r(S.s),a&&clearInterval(a))};t();let a=setInterval(t,1e3);return()=>clearInterval(a)}s("")},[e]),a>0)?(0,P.jsxs)("div",{className:"flex items-center gap-3 text-green-400",children:[(0,P.jsx)(u.A,{className:"w-6 h-6"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Rewards Active:"})," ",a,"/",S.s," available"]})]}):(0,P.jsxs)("div",{className:"flex items-center gap-3 text-[#FFEEBC]",children:[(0,P.jsx)(x.A,{className:"w-6 h-6"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Next Reward In:"})," ",(0,P.jsx)("span",{className:"font-semibold",children:t})]})]})};var R=s(73329),D=s.n(R);let L=(0,m.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var _=s(1373);let z=(0,m.A)("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),$=(0,m.A)("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);var E=s(13536),F=s(38166),G=s(80541);let O={initialBudget:2e3,rounds:20,guaranteedNeeds:["Rent is due! You must pay it.","Your car insurance premium is due."],events:[{type:"expense",category:"Need",description:"Rent is due! You must pay it.",cost:950,consequence:"You failed to pay rent and have been evicted!"},{type:"expense",category:"Need",description:"Your car insurance premium is due.",cost:150,consequence:"You missed your insurance payment, and your policy was canceled. You can't legally drive!"},{type:"expense",category:"Need",description:"It's time to buy groceries for the month.",cost:350,consequence:"You don't have enough money for food and had to borrow from a friend."},{type:"expense",category:"Need",description:"Your phone bill is due.",cost:80,consequence:"Your phone service has been disconnected."},{type:"expense",category:"Need",description:"Your student loan payment is due.",cost:200,consequence:"You've missed a student loan payment, which will hurt your credit score."},{type:"expense",category:"Need",description:"Your electricity bill has arrived.",cost:90,consequence:"The power has been shut off in your apartment."},{type:"expense",category:"Need",description:"You have a cavity and need a dental filling.",cost:180,consequence:"You ignored a health issue which could get worse and more expensive later."},{type:"expense",category:"Need",description:"Your car needs new tires.",cost:400,consequence:"Your car is unsafe to drive, and you got a fine."},{type:"expense",category:"Need",description:"Your pet is sick and needs to see the vet.",cost:250,consequence:"Your pet's health worsened because you delayed care."},{type:"expense",category:"Need",description:"Your laptop for school broke and needs an urgent repair.",cost:220,consequence:"You couldn't complete your schoolwork, and your grades suffered."},{type:"expense",category:"Need",description:"You need to buy a professional outfit for a job interview.",cost:120,consequence:"You made a poor impression at your interview due to unprofessional attire."},{type:"expense",category:"Need",description:"Your internet bill is due.",cost:60,consequence:"Your internet has been cut off."},{type:"expense",category:"Need",description:"You need to refill a prescription medication.",cost:50,consequence:"You missed a dose of important medication."},{type:"expense",category:"Need",description:"Your car's registration is expiring soon.",cost:75,consequence:"You were pulled over and fined for having an expired registration."},{type:"expense",category:"Need",description:"A textbook required for a class is not available at the library.",cost:85,consequence:"You fell behind in your class because you didn't have the required textbook."},{type:"expense",category:"Need",description:"Your public transportation pass needs to be renewed for the month.",cost:100,consequence:"You had to pay expensive single-ride fares, wasting money."},{type:"expense",category:"Need",description:"You chipped a tooth and need to see a dentist.",cost:150,consequence:"The chipped tooth got infected, leading to a more painful and expensive procedure."},{type:"expense",category:"Need",description:"You need to get a new set of professional work clothes.",cost:200,consequence:"You weren't able to adhere to the company's dress code."},{type:"expense",category:"Need",description:"Your annual gym membership is up for renewal.",cost:400,consequence:"You skipped your renewal and lost your motivation to exercise."},{type:"expense",category:"Want",description:"Last-minute concert tickets with a friend!",cost:150},{type:"expense",category:"Want",description:"Your favorite artist dropped new merch!",cost:80},{type:"expense",category:"Want",description:"A new must-have video game just released!",cost:70},{type:"expense",category:"Want",description:"Your friends are all going out for expensive pizza.",cost:40},{type:"expense",category:"Want",description:"You found a limited-edition pair of sneakers online.",cost:200},{type:"expense",category:"Want",description:"A spontaneous weekend trip.",cost:250},{type:"expense",category:"Want",description:"A subscription box for snacks and goodies.",cost:30},{type:"expense",category:"Want",description:"You feel like redecorating your room.",cost:120},{type:"expense",category:"Want",description:"Take a new online course for a hobby.",cost:100},{type:"expense",category:"Want",description:"Go to an amusement park.",cost:90},{type:"expense",category:"Want",description:"Buy a new plant for your apartment.",cost:25},{type:"expense",category:"Want",description:"Tickets to a 3D movie.",cost:22},{type:"expense",category:"Want",description:"A fancy coffee maker.",cost:130},{type:"expense",category:"Want",description:"Go out for brunch with friends.",cost:45},{type:"expense",category:"Want",description:"A high-end skincare product you saw online.",cost:65},{type:"expense",category:"Want",description:"Tickets to a local sports game.",cost:55},{type:"expense",category:"Want",description:"A new set of noise-cancelling headphones.",cost:280},{type:"expense",category:"Want",description:"A high-quality backpack for school.",cost:90},{type:"expense",category:"Want",description:"A weekend streaming service marathon with all the snacks.",cost:50},{type:"choice",category:"Want",description:"Time for a fun night! What do you choose?",optionA:{description:"Go bowling with friends",cost:35},optionB:{description:"Go to a fancy movie premiere",cost:75}},{type:"choice",category:"Want",description:"You want to upgrade your entertainment setup.",optionA:{description:"A new gaming headset",cost:120},optionB:{description:"A new 4K monitor",cost:300}},{type:"choice",category:"Want",description:"You need a new outfit for an event.",optionA:{description:"A stylish thrift-store find",cost:40},optionB:{description:"A brand-new designer outfit",cost:180}},{type:"choice",category:"Need",description:"How will you get to work this week?",optionA:{description:"Buy a monthly transit pass",cost:100},optionB:{description:"Take a rideshare every day",cost:250},consequence:{text:"You couldn't get to work and lost out on pay.",flag:"missed_work"}},{type:"choice",category:"Want",description:"It's time to treat yourself to a coffee.",optionA:{description:"A simple drip coffee",cost:3},optionB:{description:"A fancy seasonal latte",cost:7}},{type:"choice",category:"Want",description:"A friend's birthday is coming up.",optionA:{description:"A thoughtful, homemade gift",cost:15},optionB:{description:"An expensive gadget they wanted",cost:100}},{type:"choice",category:"Need",description:"Your refrigerator is empty. How do you restock?",optionA:{description:"Careful meal planning and grocery shopping",cost:250},optionB:{description:"Get takeout and delivery for the rest of the month",cost:600},consequence:{text:"You didn't get groceries and had no food at home."}},{type:"choice",category:"Want",description:"You want to start exercising.",optionA:{description:"A high-end gym membership",cost:80},optionB:{description:"A new pair of running shoes",cost:130}},{type:"choice",category:"Want",description:"You have a free afternoon. How do you spend it?",optionA:{description:"Visit a free museum",cost:0},optionB:{description:"Go to a trampoline park",cost:30}},{type:"choice",category:"Want",description:"Your friends are planning a weekend camping trip.",optionA:{description:"Borrow gear from a friend",cost:20},optionB:{description:"Buy all new camping equipment",cost:300}},{type:"choice",category:"Want",description:"You want to learn a new skill.",optionA:{description:"Watch free tutorials online",cost:0},optionB:{description:"Sign up for a premium online masterclass",cost:180}},{type:"expense",category:"Want",description:"Your current phone is fine, but the new one is tempting.",cost:400},{type:"choice",category:"Need",description:"It's lunch time at work.",optionA:{description:"Pack a lunch from home",cost:5},optionB:{description:"Buy lunch from a fancy cafe",cost:25}},{type:"windfall",description:"You found a buyer for your old comic book collection!",income:150},{type:"windfall",description:"You received a surprise birthday check from your grandma!",income:100},{type:"windfall",description:"You sold some of your old clothes online.",income:60},{type:"windfall",description:"You won a small prize from a scratch-off ticket.",income:25},{type:"windfall",description:"You got a small work bonus for being a great employee.",income:200,prerequisites:{forbiddenFlags:["missed_work"]}},{type:"windfall",description:"You dog-sat for a neighbor over the weekend.",income:75},{type:"windfall",description:"You found $20 on the sidewalk!",income:20},{type:"windfall",description:"You received a small scholarship for your studies.",income:500},{type:"windfall",description:"You got a tax refund!",income:300},{type:"windfall",description:"You participated in a paid research study.",income:50},{type:"windfall",description:"You returned some items you bought last month and got a store credit.",income:40},{type:"windfall",description:"A freelance project paid more than you expected.",income:250}]},Z=(0,m.A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var X=s(22245);let V=(0,m.A)("Drama",[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]]),U=(0,m.A)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),K=(0,m.A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Q=(0,m.A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),J=(0,m.A)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),ee=e=>{let{event:t,budget:s,onDecision:a,isProcessing:n}=e,i=s>=t.cost;return(0,P.jsxs)(r.P.div,{initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5},className:"absolute top-0 z-10 w-full max-w-lg space-y-4",children:[(0,P.jsx)(d.Zp,{className:"text-center border-4 bg-card/80 border-border/20",children:(0,P.jsxs)(d.aR,{children:[(0,P.jsxs)(d.ZB,{className:"flex items-center justify-center gap-2 font-black text-2xl text-primary",children:[(0,P.jsx)(Z,{className:"w-8 h-8"})," A WILD EXPENSE APPEARS!"]}),(0,P.jsx)(d.BT,{className:"text-xl text-foreground/80 font-bold py-4",children:t.description})]})}),(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,P.jsxs)(l.$,{size:"lg",className:"h-24 text-2xl font-black bg-primary hover:bg-primary/80 shadow-glow",onClick:()=>{(0,j.gX)(),a("pay")},disabled:!i||n,children:["Pay $",t.cost]}),(0,P.jsxs)(l.$,{size:"lg",variant:"destructive",className:"h-24 text-2xl font-black bg-red-600/80 hover:bg-red-600",onClick:()=>{(0,j.gX)(),a("dismiss")},disabled:n,children:[(0,P.jsx)(X.A,{className:"w-8 h-8 mr-2"}),"Dismiss"]})]}),!i&&(0,P.jsx)("p",{className:"text-center text-destructive font-bold",children:"You cannot afford this!"})]},t.description)},et=e=>{let{event:t,budget:s,onDecision:a,isProcessing:n}=e,i=s>=t.optionA.cost,o=s>=t.optionB.cost;return(0,P.jsxs)(r.P.div,{initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5},className:"absolute top-0 z-10 w-full max-w-lg space-y-4",children:[(0,P.jsx)(d.Zp,{className:"text-center border-4 bg-card/80 border-border/20",children:(0,P.jsxs)(d.aR,{children:[(0,P.jsxs)(d.ZB,{className:"flex items-center justify-center gap-2 font-black text-2xl text-primary",children:[(0,P.jsx)(V,{className:"w-8 h-8"})," DECISION TIME!"]}),(0,P.jsx)(d.BT,{className:"text-xl text-foreground/80 font-bold py-4",children:t.description})]})}),(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,P.jsxs)(l.$,{size:"lg",variant:"outline",className:"h-32 text-xl font-bold flex flex-col items-center justify-center gap-2 p-4 whitespace-normal",onClick:()=>{(0,j.gX)(),a("choose_a")},disabled:!i||n,children:[(0,P.jsx)("span",{className:"text-center",children:t.optionA.description}),(0,P.jsxs)("span",{className:"text-primary font-black text-2xl",children:["$",t.optionA.cost]})]}),(0,P.jsxs)(l.$,{size:"lg",variant:"outline",className:"h-32 text-xl font-bold flex flex-col items-center justify-center gap-2 p-4 whitespace-normal",onClick:()=>{(0,j.gX)(),a("choose_b")},disabled:!o||n,children:[(0,P.jsx)("span",{className:"text-center",children:t.optionB.description}),(0,P.jsxs)("span",{className:"text-primary font-black text-2xl",children:["$",t.optionB.cost]})]})]}),(0,P.jsxs)(l.$,{size:"lg",variant:"secondary",className:"w-full h-16 text-xl font-bold",onClick:()=>{(0,j.gX)(),a("skip_choice")},disabled:n,children:[(0,P.jsx)(U,{className:"w-6 h-6 mr-2"}),"Buy Neither"]})]},t.description)},es=e=>{let{event:t,onDecision:s,isProcessing:a}=e;return(0,P.jsxs)(r.P.div,{initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5},className:"absolute top-0 z-10 w-full max-w-lg space-y-4",children:[(0,P.jsx)(d.Zp,{className:"text-center border-4 bg-card/80 border-yellow-400/50",children:(0,P.jsxs)(d.aR,{children:[(0,P.jsxs)(d.ZB,{className:"flex items-center justify-center gap-2 font-black text-2xl text-yellow-400",children:[(0,P.jsx)(K,{className:"w-8 h-8"})," A WINDFALL!"]}),(0,P.jsx)(d.BT,{className:"text-xl text-foreground/80 font-bold py-4",children:t.description})]})}),(0,P.jsxs)(l.$,{size:"lg",className:"w-full h-24 text-2xl font-black bg-yellow-500 hover:bg-yellow-500/80 text-background shadow-glow",onClick:()=>{(0,j.gX)(),s("collect_windfall")},disabled:a,children:[(0,P.jsx)(Q,{className:"w-8 h-8 mr-2"}),"Collect +$",t.income]})]},t.description)};function ea(e){let{budget:t,event:s,onDecision:a,round:n,totalRounds:r,currentScore:o,isProcessing:c}=e;return(0,P.jsxs)("div",{className:(0,b.cn)("w-full h-full flex flex-col items-center justify-between p-4 transition-opacity",c&&"opacity-50"),children:[(0,P.jsxs)("div",{className:"w-full flex justify-between items-center mb-4 bg-card/50 p-3 rounded-lg",children:[(0,P.jsxs)("div",{className:"flex items-center gap-2 font-bold text-2xl",children:[(0,P.jsx)(J,{className:"text-primary"}),(0,P.jsxs)("span",{className:"text-foreground",children:["$",t.toFixed(2)]})]}),(0,P.jsxs)("div",{className:"flex flex-col items-center",children:[(0,P.jsx)("h2",{className:"text-xl font-bold",children:"Event"}),(0,P.jsxs)("span",{className:"text-primary text-xl font-bold",children:[n," / ",r]})]}),(0,P.jsxs)("div",{className:"flex flex-col items-center",children:[(0,P.jsx)("h2",{className:"text-xl font-bold",children:"Score"}),(0,P.jsx)("span",{className:"text-primary text-xl font-bold",children:o})]})]}),(0,P.jsx)("div",{className:"relative w-full flex-grow flex items-center justify-center",children:(0,P.jsx)(i.N,{children:(()=>{let e={budget:t,onDecision:a,isProcessing:c};switch(s.type){case"expense":return(0,P.jsx)(ee,{event:s,...e});case"choice":return(0,P.jsx)(et,{event:s,...e});case"windfall":return(0,P.jsx)(es,{event:s,...e});default:return null}})()})})]})}var en=s(97555);let er=e=>{let t=e.length,s;for(;0!==t;)s=Math.floor(Math.random()*t),t--,[e[t],e[s]]=[e[s],e[t]];return e},ei="America/Los_Angeles",eo=e=>{var t,s,a;let n=(null!=(t=e.hours)?t:0).toString().padStart(2,"0"),r=(null!=(s=e.minutes)?s:0).toString().padStart(2,"0"),i=(null!=(a=e.seconds)?a:0).toString().padStart(2,"0");return"".concat(n,":").concat(r,":").concat(i)},ec=()=>{let{userData:e}=(0,w.A)(),[t,s]=(0,n.useState)(""),[a,r]=(0,n.useState)(2);return((0,n.useEffect)(()=>{var t;if(!e)return;let a=(null!=(t=e.dailyRewardClaims)?t:[]).map(e=>e.toDate()),n=(0,W.L_)(new Date,ei),i=(0,Y.o)(n);i.setHours(5),(0,B.Y)(n,i)&&(i=(0,C.e)(i,1));let o=a.filter(e=>(0,B.Y)(i,(0,W.L_)(e,ei)));if(r(2-o.length),o.length>=2){let e=(0,Y.o)(n);e.setHours(5),((0,B.Y)(e,n)||n.getTime()===e.getTime())&&(e=(0,q.f)(e,1));let t=()=>{let t=(0,W.L_)(new Date,ei);(0,B.Y)(t,e)?s(eo((0,M.F)({start:t,end:e}))):(s(""),r(2),a&&clearInterval(a))};t();let a=setInterval(t,1e3);return()=>clearInterval(a)}s("")},[e]),a>0)?(0,P.jsxs)("div",{className:"flex items-center gap-3 text-green-400",children:[(0,P.jsx)(u.A,{className:"w-6 h-6"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Rewards Active:"})," ",a,"/",2," available"]})]}):(0,P.jsxs)("div",{className:"flex items-center gap-3 text-[#FFEEBC]",children:[(0,P.jsx)(x.A,{className:"w-6 h-6"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Next Reward In:"})," ",(0,P.jsx)("span",{className:"font-semibold",children:t})]})]})};var el=s(58624);let ed=n.memo(function(e){let{userId:t}=e,{userData:s,refreshUserData:r,triggerLevelUp:i,triggerRewardAnimation:o}=(0,w.A)();(0,a.useRouter)();let[c,p]=(0,n.useState)("start"),[u,x]=(0,n.useState)(0),[h,m]=(0,n.useState)(0),[g,j]=(0,n.useState)(O.initialBudget),[A,S]=(0,n.useState)(O.initialBudget),[W,Y]=(0,n.useState)(0),[B,C]=(0,n.useState)(0),[q,M]=(0,n.useState)(null),[T,I]=(0,n.useState)(0),[H,R]=(0,n.useState)([]),[D,L]=(0,n.useState)(!1),[_,Z]=(0,n.useState)(null),[X,V]=(0,n.useState)(null),[U,K]=(0,n.useState)(null),[Q,J]=(0,n.useState)(null),[ee,et]=(0,n.useState)([]),[es,ei]=(0,n.useState)(!1),eo=(0,n.useRef)([]),el=(0,n.useRef)(0);(0,n.useEffect)(()=>{var e,t,a,n,r;let i=null==s||null==(e=s.gameSummaries)?void 0:e["budget-busters"];i&&(m(null!=(a=null==(t=i.bestAttempt)?void 0:t.score)?a:0),Z(null!=(n=i.lastAttempt)?n:null),V(null!=(r=i.bestAttempt)?r:null))},[s]);let ed=(0,n.useCallback)(async(e,s,a,n,c,l)=>{let d=e,p=0,u=(l>0?n/l*100:0)<10;u&&(p+=100);let x=(l>0?s/l*100:0)<20;x&&(p+=150),c.length>0&&(p+=75*c.length);let y=(d=Math.max(0,d-p))>h;y?(L(!0),m(d)):L(!1);let g={score:d,highScore:y?d:h,budget:s,spentOnNeeds:a,spentOnWants:n,incurredConsequences:c,isNewHighScore:y,spentTooLittleOnWants:u,missedSavingsGoal:x,scorePenalty:p,initialBudget:l};if(Z(g),U||(K(g),J("last")),t){await (0,k.o)({userId:t,gameId:"budget-busters",summaryData:g});let e=await (0,v.E)({userId:t,gameId:"budget-busters",score:d});e.success&&o({xp:e.xpAwarded,cents:e.centsAwarded});let s=[(0,N.r)({userId:t,actionType:"play_minigame_round"})];y&&s.push((0,N.r)({userId:t,actionType:"beat_high_score"})),await Promise.all(s);let a=await (null==r?void 0:r());(null==a?void 0:a.leveledUp)&&a.newLevel&&a.rewardCents&&i({newLevel:a.newLevel,reward:a.rewardCents})}},[h,t,r,i,o,U]),ep=e=>{let t=eo.current.slice(el.current).filter(t=>{var s;return"windfall"!==t.type||null==(s=t.prerequisites)||!s.forbiddenFlags||!t.prerequisites.forbiddenFlags.some(t=>e.includes(t))});if(0===t.length){let e=eo.current[el.current];return el.current+=1,e}let s=t[0];return el.current=eo.current.findIndex(e=>e.description===s.description&&e.type===s.type)+1,s},eu=(e,t,s,a,n,r,i)=>{T+1>=O.rounds?(M(null),ed(e,t,s,a,n,i)):(I(e=>e+1),M(ep(r)),ei(!1))},ex=()=>{let{events:e,guaranteedNeeds:t}=O,s=e.filter(e=>t.includes(e.description)),a=er(e.filter(e=>!t.includes(e.description))),n=0,r=a.filter(e=>"windfall"!==e.type||n<3&&(n++,!0)),i=O.rounds-s.length;eo.current=er([...s,...r.slice(0,i)]),el.current=0},eh=()=>{let e=O.initialBudget;j(e),p("playing"),x(0),S(e),Y(0),C(0),R([]),I(0),ex(),M(ep([])),L(!1),K(null),J(null),et([])};return U&&!q?(e=>{let t=e.initialBudget||O.initialBudget,s=t>0?Math.round(e.spentOnNeeds/t*100):0,a=t>0?Math.round(e.spentOnWants/t*100):0,n=e.budget,r=t>0?Math.round(n/t*100):0;return(0,P.jsxs)(d.Zp,{className:"bg-card/50 backdrop-blur-lg border-border/20 text-center p-8",children:[(0,P.jsxs)(d.aR,{className:"p-0 mb-4",children:[(0,P.jsx)("div",{className:"flex justify-center mb-4",children:(0,P.jsx)(en.u,{isHappy:!e.missedSavingsGoal&&!e.spentTooLittleOnWants&&0===e.incurredConsequences.length,isSad:e.missedSavingsGoal||e.spentTooLittleOnWants||e.incurredConsequences.length>0})}),(0,P.jsx)(d.ZB,{className:"text-3xl font-bold flex items-center justify-center gap-2",children:"Financial Report"}),(0,P.jsx)(d.BT,{className:"text-lg",children:"Here's your performance breakdown."})]}),(0,P.jsxs)(d.Wu,{className:"space-y-6 p-0",children:[(0,P.jsx)("div",{className:"text-6xl font-black text-primary",children:e.score}),e.isNewHighScore&&"last"===Q&&(0,P.jsx)("p",{className:"font-bold text-yellow-400",children:"\uD83C\uDF89 New High Score! \uD83C\uDF89"}),e.scorePenalty>0&&(0,P.jsxs)("p",{className:"font-bold text-destructive",children:["Total Penalties: -",e.scorePenalty," points"]}),(0,P.jsxs)("div",{className:"space-y-2 text-left p-4 bg-background/50 rounded-lg",children:[(0,P.jsx)("h3",{className:"font-bold text-center text-lg mb-2",children:"Your 50/30/20 Breakdown"}),(0,P.jsxs)("p",{className:"flex justify-between",children:[(0,P.jsx)("span",{children:(0,P.jsx)("b",{children:"Needs:"})})," ",(0,P.jsxs)("span",{children:["$",e.spentOnNeeds.toFixed(2)," ",(0,P.jsxs)("span",{className:"text-muted-foreground",children:["(",s,"%)"]})]})]}),(0,P.jsxs)("p",{className:"flex justify-between",children:[(0,P.jsx)("span",{children:(0,P.jsx)("b",{children:"Wants:"})})," ",(0,P.jsxs)("span",{children:["$",e.spentOnWants.toFixed(2)," ",(0,P.jsxs)("span",{className:"text-muted-foreground",children:["(",a,"%)"]})]})]}),(0,P.jsxs)("p",{className:"flex justify-between",children:[(0,P.jsx)("span",{children:(0,P.jsx)("b",{children:"Savings:"})}),(0,P.jsxs)("span",{className:(0,b.cn)(e.missedSavingsGoal?"text-destructive":"text-green-400"),children:["$",n.toFixed(2)," ",(0,P.jsxs)("span",{className:"text-muted-foreground",children:["(",r,"%)"]})]})]})]}),e.missedSavingsGoal&&(0,P.jsxs)("div",{className:"space-y-2 text-left p-4 bg-red-500/20 rounded-lg",children:[(0,P.jsxs)("h3",{className:"font-bold text-center text-lg mb-2 text-destructive flex items-center justify-center gap-2",children:[(0,P.jsx)(z,{})," Missed Savings Goal (-150 Points)"]}),(0,P.jsx)("p",{className:"text-center text-red-400/80",children:"You saved less than 20% of your income. This is a key part of a healthy budget. The goal is to balance today's needs with tomorrow's goals."})]}),e.spentTooLittleOnWants&&(0,P.jsxs)("div",{className:"space-y-2 text-left p-4 bg-yellow-500/20 rounded-lg",children:[(0,P.jsxs)("h3",{className:"font-bold text-center text-lg mb-2 text-yellow-400 flex items-center justify-center gap-2",children:[(0,P.jsx)($,{})," A Life Un-Lived (-100 Points)"]}),(0,P.jsx)("p",{className:"text-center text-yellow-400/80",children:"You spent less than 10% of your budget on wants! A good budget includes room for fun and enjoyment. It's all about balance."})]}),e.incurredConsequences.length>0&&(0,P.jsxs)("div",{className:"space-y-2 text-left p-4 bg-destructive/20 rounded-lg",children:[(0,P.jsxs)("h3",{className:"font-bold text-center text-lg mb-2 text-destructive flex items-center justify-center gap-2",children:[(0,P.jsx)(E.A,{})," Consequences (-",75*e.incurredConsequences.length," Points)"]}),(0,P.jsx)("p",{className:"text-center text-destructive/80 mb-2",children:"Dismissing critical needs has real-world consequences and hurts your score:"}),(0,P.jsx)("ul",{className:"list-disc list-inside text-destructive/90 text-center",children:e.incurredConsequences.map((e,t)=>(0,P.jsx)("li",{children:e},t))})]}),(0,P.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,P.jsx)(l.$,{size:"lg",className:"text-lg shadow-glow",onClick:eh,children:"Play Again"}),(0,P.jsx)(l.$,{size:"lg",variant:"outline",className:"text-lg",onClick:()=>{p("start"),K(null),J(null)},children:"Close Report"})]})]})]})})(U):"start"===c?(0,P.jsxs)(d.Zp,{className:"bg-card/50 backdrop-blur-lg border-border/20 text-center",children:[(0,P.jsxs)(d.aR,{children:[(0,P.jsxs)(d.ZB,{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[(0,P.jsx)(F.A,{className:"w-8 h-8 text-primary"})," Budget Busters"]}),(0,P.jsx)(d.BT,{className:"text-lg",children:"Make smart spending decisions to survive the month!"})]}),(0,P.jsxs)(d.Wu,{className:"space-y-6",children:[(0,P.jsxs)("div",{className:"space-y-4 text-left p-4 bg-background/50 rounded-lg",children:[(0,P.jsxs)("div",{className:"flex items-start gap-3",children:[(0,P.jsx)(y,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{className:"text-foreground",children:"How to Play:"})," You have $",O.initialBudget," for ",O.rounds," financial events. Handle expenses, make choices, and get windfalls."]})]}),(0,P.jsxs)("div",{className:"flex items-start gap-3",children:[(0,P.jsx)(E.A,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{className:"text-foreground",children:"Goal:"})," Score points by making smart choices. Dismissing 'Wants' is good, but dismissing 'Needs' has severe consequences! Try to follow the ",(0,P.jsx)("b",{children:"50/30/20 rule"})," (50% Needs, 30% Wants, 20% Savings)."]})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3",children:[(0,P.jsx)(f.A,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),(0,P.jsx)(l.$,{variant:"link",onClick:()=>{X&&(K(X),J("high"))},disabled:!X,className:"p-0 h-auto text-lg text-foreground",children:(0,P.jsxs)("b",{className:"text-foreground",children:["High Score: ",h]})})]}),(0,P.jsx)(ec,{})]}),(0,P.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,P.jsx)(l.$,{size:"lg",className:"w-full text-xl font-bold shadow-glow",onClick:eh,children:"Start Game"}),_&&(0,P.jsxs)(l.$,{size:"lg",variant:"secondary",className:"w-full text-xl font-bold",onClick:()=>{K(_),J("last")},children:[(0,P.jsx)(G.A,{className:"mr-2"})," View Last Summary"]})]})]})]}):"playing"===c&&q?(0,P.jsx)(ea,{budget:A,event:q,onDecision:e=>{if(!q||es)return;ei(!0);let t=u,s=A,a=W,n=B,r=[...H],i=[...ee];switch(q.type){case"expense":"pay"===e?A>=q.cost&&(s-=q.cost,"Need"===q.category?(a+=q.cost,t+=50):(n+=q.cost,t+=25)):"Need"===q.category?(t-=200,q.consequence&&r.push(q.consequence)):t+=75;break;case"choice":"choose_a"===e&&A>=q.optionA.cost?(s-=q.optionA.cost,"Need"===q.category?a+=q.optionA.cost:n+=q.optionA.cost,t+=25):"choose_b"===e&&A>=q.optionB.cost?(s-=q.optionB.cost,"Need"===q.category?a+=q.optionB.cost:n+=q.optionB.cost,t+=25):"skip_choice"===e&&("Need"===q.category&&q.consequence?(t-=200,r.push(q.consequence.text),q.consequence.flag&&i.push(q.consequence.flag)):t+=75);break;case"windfall":"collect_windfall"===e&&(s+=q.income,t+=50)}x(t),S(s),Y(a),C(n),R(r),et(i),eu(t,s,a,n,r,i,g)},round:T+1,totalRounds:O.rounds,currentScore:u,isProcessing:es},el.current):(0,P.jsx)("div",{className:"text-center p-8",children:(0,P.jsx)("p",{className:"text-lg font-semibold animate-pulse",children:"Calculating your results..."})})}),ep=n.memo(function(){let{user:e,userData:t,refreshUserData:s,triggerRewardAnimation:a,triggerLevelUp:o}=(0,w.A)(),{toast:u}=(0,A.dj)(),[x,m]=(0,n.useState)("start"),[S,W]=(0,n.useState)([]),[Y,B]=(0,n.useState)(0),[C,q]=(0,n.useState)(0),[M,T]=(0,n.useState)(30),[I,R]=(0,n.useState)(null),[D,L]=(0,n.useState)(0);(0,n.useEffect)(()=>{var e,s,a;let n=null==t||null==(e=t.gameSummaries)?void 0:e["savings-sorter"];n&&L(null!=(a=null==(s=n.bestAttempt)?void 0:s.score)?a:0)},[t]);let _=(0,n.useCallback)(async()=>{(0,j.zD)();let t=C>D;if(t&&L(C),null==e?void 0:e.uid){await (0,k.o)({userId:e.uid,gameId:"savings-sorter",summaryData:{score:C,isNewHighScore:t,highScore:t?C:D}});let n=[(0,N.r)({userId:e.uid,actionType:"play_minigame_round"})];t&&n.push((0,N.r)({userId:e.uid,actionType:"beat_high_score"})),await Promise.all(n);let r=await (0,v.E)({userId:e.uid,gameId:"savings-sorter",score:C});r.success?a({xp:r.xpAwarded,cents:r.centsAwarded}):u({variant:"default",title:"No Reward This Time",description:r.message});let i=await (null==s?void 0:s());(null==i?void 0:i.leveledUp)&&i.newLevel&&i.rewardCents&&o({newLevel:i.newLevel,reward:i.rewardCents})}},[C,D,e,s,a,o,u]),z=()=>{(0,j.gX)(),W(c()(p)),B(0),q(0),T(30),m("playing")},$=e=>{I||((0,j.gX)(),S[Y].category===e?((0,j.SX)(),q(e=>e+100),R("correct")):((0,j.zD)(),q(e=>Math.max(0,e-50)),R("incorrect")),setTimeout(()=>{R(null),Y<S.length-1?B(e=>e+1):(B(0),W(c()(p)))},500))};(0,n.useEffect)(()=>{if("playing"!==x)return;if(M<=0)return void m("end");let e=setInterval(()=>{T(e=>e-1)},1e3);return()=>clearInterval(e)},[x,M]),(0,n.useEffect)(()=>{"end"===x&&_()},[x,_]);let E=S[Y];if("start"===x)return(0,P.jsxs)(d.Zp,{className:"bg-card/50 backdrop-blur-lg border-border/20 text-center",children:[(0,P.jsxs)(d.aR,{children:[(0,P.jsxs)(d.ZB,{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[(0,P.jsx)(h.A,{className:"w-8 h-8 text-primary"})," Savings Sorter"]}),(0,P.jsx)(d.BT,{className:"text-lg",children:"Quickly sort expenses into Needs and Wants!"})]}),(0,P.jsxs)(d.Wu,{className:"space-y-6",children:[(0,P.jsxs)("div",{className:"space-y-4 text-left p-4 bg-background/50 rounded-lg",children:[(0,P.jsxs)("div",{className:"flex items-start gap-3",children:[(0,P.jsx)(y,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"How to Play:"}),' An item will appear. Decide if it\'s a "Need" (essential) or a "Want" (nice to have) as fast as you can.']})]}),(0,P.jsxs)("div",{className:"flex items-start gap-3",children:[(0,P.jsx)(g.A,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Goal:"})," Score as many points as possible before the timer runs out. Correct answers give +100 points, incorrect answers give -50."]})]}),(0,P.jsxs)("div",{className:"flex items-start gap-3",children:[(0,P.jsx)(f.A,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"High Score:"})," ",D," points"]})]}),(0,P.jsx)(H,{})]}),(0,P.jsx)(l.$,{size:"lg",className:"w-full text-xl font-bold shadow-glow",onClick:z,children:"Start Game"})]})]});if("end"===x){let e=C>D&&C>0;return(0,P.jsxs)(d.Zp,{className:"bg-card/50 backdrop-blur-lg border-border/20 text-center",children:[(0,P.jsxs)(d.aR,{children:[(0,P.jsx)(d.ZB,{className:"text-3xl font-bold",children:"Time's Up!"}),(0,P.jsx)(d.BT,{className:"text-lg",children:"Here's how you did:"})]}),(0,P.jsxs)(d.Wu,{className:"space-y-6",children:[e&&(0,P.jsx)(r.P.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"text-2xl font-bold text-yellow-400 p-3 bg-yellow-400/10 rounded-lg",children:"\uD83C\uDF89 New High Score! \uD83C\uDF89"}),(0,P.jsx)("div",{className:"text-6xl font-black text-primary",children:C}),(0,P.jsxs)("p",{className:"text-muted-foreground",children:["Your previous high score was ",D,"."]}),(0,P.jsx)(l.$,{size:"lg",className:"w-full text-xl font-bold shadow-glow",onClick:z,children:"Play Again"})]})]})}return(0,P.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center mb-4 p-3 bg-card/50 rounded-lg",children:[(0,P.jsxs)("div",{className:"text-2xl font-bold",children:["Score: ",(0,P.jsx)("span",{className:"text-primary",children:C})]}),(0,P.jsxs)("div",{className:"text-2xl font-bold",children:["Time: ",(0,P.jsxs)("span",{className:(0,b.cn)(M<=10&&"text-destructive animate-pulse"),children:[M,"s"]})]})]}),(0,P.jsx)("div",{className:"relative h-48 flex items-center justify-center mb-6",children:(0,P.jsx)(i.N,{children:E&&(0,P.jsx)(r.P.div,{initial:{opacity:0,y:50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8},transition:{duration:.3},className:(0,b.cn)("absolute text-3xl font-bold text-center p-6 rounded-lg border-2 w-full","correct"===I&&"bg-green-500/20 border-green-500","incorrect"===I&&"bg-red-500/20 border-destructive animate-shake",!I&&"bg-card border-border/20"),children:E.text},E.id)})}),(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,P.jsx)(l.$,{className:"text-2xl font-bold h-24 bg-blue-600/80 hover:bg-blue-600 border-4 border-blue-500/50 shadow-lg",onClick:()=>$("Need"),disabled:!!I,children:"Need"}),(0,P.jsx)(l.$,{className:"text-2xl font-bold h-24 bg-purple-600/80 hover:bg-purple-600 border-4 border-purple-500/50 shadow-lg",onClick:()=>$("Want"),disabled:!!I,children:"Want"})]})]})}),eu=n.memo(el.default);function ex(){let e=(0,a.useParams)().gameId,{user:t,loading:s}=(0,w.A)(),r=(0,n.useCallback)(()=>{if(!t)return null;switch(e){case"savings-sorter":return(0,P.jsx)(ep,{});case"budget-busters":return(0,P.jsx)(ed,{userId:t.uid});case"credit-swipe":return(0,P.jsx)(eu,{});default:return(0,P.jsxs)("div",{className:"text-center",children:[(0,P.jsx)("h2",{className:"text-2xl font-bold",children:"Game Not Found"}),(0,P.jsx)("p",{className:"mt-2 text-muted-foreground",children:"This game is either under construction or does not exist."})]})}},[e,null==t?void 0:t.uid]);return s||!t?(0,P.jsx)("div",{className:"container mx-auto py-8 px-4 sm:px-6 lg:px-8 flex flex-col items-center",children:(0,P.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,P.jsx)(l.$,{variant:"ghost",asChild:!0,className:"mb-4",children:(0,P.jsxs)(D(),{href:"/minigames",children:[(0,P.jsx)(L,{className:"mr-2"})," Back to Arcade"]})}),(0,P.jsx)("div",{className:"text-center",children:(0,P.jsx)(_.E,{className:"h-64 w-full"})})]})}):(0,P.jsx)("div",{className:"container mx-auto py-8 px-4 sm:px-6 lg:px-8 flex flex-col items-center",children:(0,P.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,P.jsx)(l.$,{variant:"ghost",asChild:!0,className:"mb-4",children:(0,P.jsxs)(D(),{href:"/minigames",children:[(0,P.jsx)(L,{className:"mr-2"})," Back to Arcade"]})}),r()]})})}},63954:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(55847).A)("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]])},97555:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var a=s(35089),n=s(65719),r=s(95155);function i(e){let{isHappy:t,isSad:s}=e,i={};return t&&(i={y:[0,-10,0],transition:{duration:.5,repeat:1,ease:"easeInOut"}}),s&&(i={x:[0,-5,5,-5,0],transition:{duration:.4,ease:"easeInOut"}}),(0,r.jsx)(n.P.div,{initial:{scale:0,y:50},animate:{scale:1,y:0},transition:{type:"spring",stiffness:200,damping:20,delay:.1},whileHover:{scale:1.05},className:"relative w-32 h-32 md:w-40 md:h-40",children:(0,r.jsx)(n.P.div,{animate:i,children:(0,r.jsx)(a.default,{src:t?"/images/mascot-happy.png":s?"/images/mascot-sad.png":"/images/mascot-idle.png",alt:"Centsable Mascot",width:160,height:160,className:"drop-shadow-lg"})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[318,992,138,240,719,89,329,953,105,93,624,441,891,358],()=>t(55178)),_N_E=e.O()}]);